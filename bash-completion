have wajig &&
_wajig()
{
    local cur

    COMPREPLY=()
    cur=${COMP_WORDS[COMP_CWORD]}

    options="-h --help -V --version"

    commands=(ADDCDROM ADDREPO AUTOALTS AUTOCLEAN AUTODOWNLOAD AUTOREMOVE
              BUILD BUILDDEPS CHANGELOG CLEAN CONTENTS DAILYUPGRADE
              DEPENDENTS DESCRIBE DESCRIBENEW DISTUPGRADE DOWNLOAD EDITSOURCES
              EXTRACT FIXCONFIGURE FIXINSTALL FIXMISSING FORCE HOLD INFO INIT
              INSTALL INSTALLSUGGESTED INTEGRITY LARGE LASTUPDATE
              LISTALTERNATIVES LISTCACHE LISTCOMMANDS LISTDAEMONS LISTFILES
              LISTHOLD LISTINSTALLED LISTNAMES LISTPACKAGES LISTSCRIPTS
              LISTSECTION LISTSECTIONS LISTSTATUS
              MADISON MOVE NEW NEWDETAIL NEWS NEWUPGRADES NONFREE ORPHANS
              POLICY PURGE PURGEORPHANS PURGEREMOVED RBUILDDEPS README
              RECDOWNLOAD RECOMMENDED RECONFIGURE REINSTALL RELOAD REMOVE
              REMOVEORPHANS REPACKAGE REPORTBUG RESTART RPM2DEB RPMINSTALL
              SEARCH SEARCHAPT SHOW SIZES SNAPSHOT SOURCE START STATUS
              STATUSMATCH STOP SYSLOG TASKSEL TODO TOUPGRADE TUTORIAL UNHOLD
              UNOFFICIAL UPDATE UPDATEALTERNATIVES UPDATEPCIIDS UPDATEUSBIDS
              UPGRADE UPGRADESECURITY VERIFY VERSIONS WHICHPACKAGE)

    if [ "$COMP_CWORD" -ge "2" ]; then
        COMPREPLY=($( compgen -W '$(apt-cache pkgnames)' -- "$cur" ) \
                   $( compgen -o default -- "$cur"))

    elif [[ "$cur" == -* ]]; then
        COMPREPLY=($( compgen -W "$options" -- "$cur" ) )

    else
        local option oldNoCaseMatch=$(shopt -p nocasematch)
        shopt -s nocasematch
        COMPREPLY=( $( for command in "${commands[@]}"; do
            [[ ${command:0:${#cur}} == "$cur" ]] && printf '%s\n' $command
        done ) )
        eval "$oldNoCaseMatch" 2> /dev/null
    fi
}
complete -F _wajig wajig
